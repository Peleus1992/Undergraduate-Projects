<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>Hardware Abstraction Layer: mems_regs.h Source File</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="ST_Logo.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="index.html">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.html">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.html">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.html">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.html">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>mems_regs.h</h1><a href="mems__regs_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00007"></a>00007 <span class="preprocessor">#ifndef _MEMS_REGS_H_</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span><span class="preprocessor">#define _MEMS_REGS_H_</span>
<a name="l00009"></a>00009 <span class="preprocessor"></span>
<a name="l00010"></a>00010 <span class="comment">//---Size of MEMs data---</span>
<a name="l00011"></a><a class="code" href="mems__regs_8h.html#a5d367e0bb83ca28ff9c1d5d8f2fd82ff">00011</a> <span class="preprocessor">#define MEMS_DATA_SIZE 6</span>
<a name="l00012"></a>00012 <span class="preprocessor"></span>
<a name="l00013"></a>00013 <span class="comment">//---address of slave I want to communicate with---</span>
<a name="l00014"></a><a class="code" href="mems__regs_8h.html#a4a19d90412b7fe362c0f244b9d366c69">00014</a> <span class="preprocessor">#define kLIS3L02DQ_SLAVE_ADDR    0x38</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00017"></a>00017 <span class="comment">//---accelerometer register addresses---</span>
<a name="l00018"></a><a class="code" href="mems__regs_8h.html#ae3a0d5a32051fef2a946a99914e711f8">00018</a> <span class="preprocessor">#define OFFSET_X         0x16</span>
<a name="l00019"></a><a class="code" href="mems__regs_8h.html#a701197e83c96ca5814113ebe72527a68">00019</a> <span class="preprocessor"></span><span class="preprocessor">#define OFFSET_Y         0x17</span>
<a name="l00020"></a><a class="code" href="mems__regs_8h.html#a39bedec91b75c1230e3d84a3721e1a0c">00020</a> <span class="preprocessor"></span><span class="preprocessor">#define OFFSET_Z         0x18</span>
<a name="l00021"></a><a class="code" href="mems__regs_8h.html#af51a9d59212e221d009c1e054277e680">00021</a> <span class="preprocessor"></span><span class="preprocessor">#define GAIN_X           0x19</span>
<a name="l00022"></a><a class="code" href="mems__regs_8h.html#acf55d6bad780224bd50ab38738b85b29">00022</a> <span class="preprocessor"></span><span class="preprocessor">#define GAIN_Y           0x1A</span>
<a name="l00023"></a><a class="code" href="mems__regs_8h.html#ac52cbb23b756749ad17ddbea2ed04299">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define GAIN_Z           0x1B</span>
<a name="l00024"></a><a class="code" href="mems__regs_8h.html#abd83ea49367ca7850ffc9091890aa46b">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define CTRL_REG1        0x20</span>
<a name="l00025"></a><a class="code" href="mems__regs_8h.html#afd5ce55297b11bfc3c750a359b80de46">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define CTRL_REG2        0x21</span>
<a name="l00026"></a><a class="code" href="mems__regs_8h.html#a1f7e79cfe81dc06414550fa52418941e">00026</a> <span class="preprocessor"></span><span class="preprocessor">#define STATUS_REG       0x27</span>
<a name="l00027"></a><a class="code" href="mems__regs_8h.html#aa9169598037277973c6b66b8b4beba41">00027</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTX_L           0x28</span>
<a name="l00028"></a><a class="code" href="mems__regs_8h.html#a75e397aa2a4266a37a26a00effa0945b">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTX_H           0x29</span>
<a name="l00029"></a><a class="code" href="mems__regs_8h.html#ab3930973fae0c185c70b00f256b3a4b2">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTY_L           0x2A</span>
<a name="l00030"></a><a class="code" href="mems__regs_8h.html#a794f452cf36b13369ecab56e6d404e31">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTY_H           0x2B</span>
<a name="l00031"></a><a class="code" href="mems__regs_8h.html#a24f8d6d1cea90ccbe51bf34a9d349384">00031</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTZ_L           0x2C</span>
<a name="l00032"></a><a class="code" href="mems__regs_8h.html#a470aa22a4eced50a37bf8cfee6b80103">00032</a> <span class="preprocessor"></span><span class="preprocessor">#define OUTZ_H           0x2D</span>
<a name="l00033"></a><a class="code" href="mems__regs_8h.html#a201e9a17dddf3ef4b2c92b8347a52b15">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define FF_WU_CFG        0x30</span>
<a name="l00034"></a><a class="code" href="mems__regs_8h.html#aea4d6c32cb80ba27b8187dcc6a9f356a">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define FF_WU_SRC        0x31</span>
<a name="l00035"></a><a class="code" href="mems__regs_8h.html#a10da29b4955fe55760959495b0c53097">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define FF_WU_ACK        0x32</span>
<a name="l00036"></a><a class="code" href="mems__regs_8h.html#a66d8280b55a99b912cad5b56d59f45d4">00036</a> <span class="preprocessor"></span><span class="preprocessor">#define FF_WU_THS_L      0x34</span>
<a name="l00037"></a><a class="code" href="mems__regs_8h.html#a98be231afa78d4e5d464dbc2b752eb60">00037</a> <span class="preprocessor"></span><span class="preprocessor">#define FF_WU_THS_H      0x35</span>
<a name="l00038"></a><a class="code" href="mems__regs_8h.html#ad9eafbdd179085b13c158fb6dac52387">00038</a> <span class="preprocessor"></span><span class="preprocessor">#define FF_WU_DURATION   0x36</span>
<a name="l00039"></a><a class="code" href="mems__regs_8h.html#a4a105724196d12c75b8568b8fa639b96">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_CFG           0x38</span>
<a name="l00040"></a><a class="code" href="mems__regs_8h.html#ab568505f4a5af31c6c0775f95efdc5ec">00040</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_SRC           0x39</span>
<a name="l00041"></a><a class="code" href="mems__regs_8h.html#ac3ff58f00542d4420e22759153c54a43">00041</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_ACK           0x3A</span>
<a name="l00042"></a><a class="code" href="mems__regs_8h.html#abf8fab500d169c12f2f992a5354f05a2">00042</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_THSI_L        0x3C</span>
<a name="l00043"></a><a class="code" href="mems__regs_8h.html#a21ca14cd4fe8f8ce588b22edd243eb65">00043</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_THSI_H        0x3D</span>
<a name="l00044"></a><a class="code" href="mems__regs_8h.html#aa63b7541d14ccd61a5b9d5dbcb64a898">00044</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_THSE_L        0x3E</span>
<a name="l00045"></a><a class="code" href="mems__regs_8h.html#a37ae9e68ce593f13777b4a1e1ca25a32">00045</a> <span class="preprocessor"></span><span class="preprocessor">#define DD_THSE_H        0x3F</span>
<a name="l00046"></a>00046 <span class="preprocessor"></span>
<a name="l00047"></a>00047 <span class="comment">// Communication control settings</span>
<a name="l00048"></a>00048 <span class="comment">// I2C</span>
<a name="l00049"></a><a class="code" href="mems__regs_8h.html#a100d8a7ed44d34a1ba30172983c462f3">00049</a> <span class="preprocessor">#define REPETIR          0x80</span>
<a name="l00050"></a>00050 <span class="preprocessor"></span><span class="comment">// SPI</span>
<a name="l00051"></a><a class="code" href="mems__regs_8h.html#aee940cb200f61ae46742cedbe7361e94">00051</a> <span class="preprocessor">#define MEMS_SPI_WRITE   0x00</span>
<a name="l00052"></a><a class="code" href="mems__regs_8h.html#a1079e7badaac0027be9d338c5cc8a3bb">00052</a> <span class="preprocessor"></span><span class="preprocessor">#define MEMS_SPI_READ    0x80</span>
<a name="l00053"></a><a class="code" href="mems__regs_8h.html#a347eeb924e7de57bdae0708323c20359">00053</a> <span class="preprocessor"></span><span class="preprocessor">#define MEMS_SPI_MULTIPLE_BYTES 0x40</span>
<a name="l00054"></a>00054 <span class="preprocessor"></span>
<a name="l00055"></a>00055 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00056"></a>00056 <span class="comment">//---Settings for CTRL_REG1---</span>
<a name="l00057"></a>00057 
<a name="l00058"></a>00058 <span class="comment">// Power Down Control (PD)</span>
<a name="l00059"></a><a class="code" href="mems__regs_8h.html#a3a31f7f081b5c3b504dbfc587c8aade4">00059</a> <span class="preprocessor">#define LIS_PD_OFF 0x00</span>
<a name="l00060"></a><a class="code" href="mems__regs_8h.html#aea55779cb3cc5f0c3021749f05697425">00060</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_PD_ON  0x40</span>
<a name="l00061"></a>00061 <span class="preprocessor"></span>
<a name="l00062"></a>00062 <span class="comment">// Decimation Factor Control (DF)</span>
<a name="l00063"></a><a class="code" href="mems__regs_8h.html#abb78d9a2ec02760ff8549a9eb7a6250e">00063</a> <span class="preprocessor">#define LIS_DF_BY128 0x00</span>
<a name="l00064"></a><a class="code" href="mems__regs_8h.html#a7d7b365d6f6ca77d41ef635880385498">00064</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_DF_BY64  0x10</span>
<a name="l00065"></a><a class="code" href="mems__regs_8h.html#ac3954532a944d927e7f25bf6b9e3bb38">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_DF_BY32  0x20</span>
<a name="l00066"></a><a class="code" href="mems__regs_8h.html#a491a3611c7bb6f24828e7e15cb3f1c2d">00066</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_DF_BY8   0x30</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 <span class="comment">// Self Test</span>
<a name="l00069"></a><a class="code" href="mems__regs_8h.html#ac7e180caaa286a43880230aed8691fbd">00069</a> <span class="preprocessor">#define LIS_ST_NORMAL 0x00</span>
<a name="l00070"></a><a class="code" href="mems__regs_8h.html#a95405c9ffc9290855621508cc477b77f">00070</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_ST_TEST   0x08</span>
<a name="l00071"></a>00071 <span class="preprocessor"></span>
<a name="l00072"></a>00072 <span class="comment">// Enable Axis</span>
<a name="l00073"></a><a class="code" href="mems__regs_8h.html#ace05148a1b82f3f233449e7afb0edf27">00073</a> <span class="preprocessor">#define LIS_EA_ALL    0x07</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a>00075 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00076"></a>00076 <span class="comment">//---Settings for CTRL_REG2---</span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078 <span class="comment">// Full Scale (FS)</span>
<a name="l00079"></a><a class="code" href="mems__regs_8h.html#a675fdd514a59cc730e46306da2c4c5b2">00079</a> <span class="preprocessor">#define LIS_FS_2G 0x00</span>
<a name="l00080"></a><a class="code" href="mems__regs_8h.html#aa7406bd914cc47b24c018e37cdd860cc">00080</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_FS_6G 0x80</span>
<a name="l00081"></a>00081 <span class="preprocessor"></span>
<a name="l00082"></a>00082 <span class="comment">// Block Data Update (BDU)</span>
<a name="l00083"></a><a class="code" href="mems__regs_8h.html#ae76def6f505100db6dfc2f6dfed0e214">00083</a> <span class="preprocessor">#define LIS_BDU_CONTINUOUS 0x00</span>
<a name="l00084"></a><a class="code" href="mems__regs_8h.html#a19db4003a86a1d8e809dda8b5448f45d">00084</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_BDU_WAIT       0x40</span>
<a name="l00085"></a>00085 <span class="preprocessor"></span>
<a name="l00086"></a>00086 <span class="comment">// Big/Little Endian Selection (BLE)</span>
<a name="l00087"></a><a class="code" href="mems__regs_8h.html#aac78359e8194f82857913097ad8db95e">00087</a> <span class="preprocessor">#define LIS_BLE_LE 0x00</span>
<a name="l00088"></a><a class="code" href="mems__regs_8h.html#a217faccab945c40795624134388ec47d">00088</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_BLE_BE 0x20</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>
<a name="l00090"></a>00090 <span class="comment">// Data Alignment Selection DAS</span>
<a name="l00091"></a><a class="code" href="mems__regs_8h.html#ae32a52ab8c2076fbb788a89e637fdc52">00091</a> <span class="preprocessor">#define LIS_DAS_12BIT 0x00</span>
<a name="l00092"></a><a class="code" href="mems__regs_8h.html#a80efd34289f3809b7dabc2edd918daaf">00092</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_DAS_16BIT 0x01</span>
<a name="l00093"></a>00093 <span class="preprocessor"></span>
<a name="l00094"></a>00094 <span class="comment">// Interrupt Enable</span>
<a name="l00095"></a><a class="code" href="mems__regs_8h.html#ad61547aeb0ba916a140961fe81a0c968">00095</a> <span class="preprocessor">#define LIS_INTR_DISABLE 0x00</span>
<a name="l00096"></a><a class="code" href="mems__regs_8h.html#a15ba0c82e54d010ed7dcbff797bbb2cc">00096</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_INTR_ENABLE  0x08</span>
<a name="l00097"></a>00097 <span class="preprocessor"></span>
<a name="l00098"></a>00098 <span class="comment">// Data Ready Enable</span>
<a name="l00099"></a><a class="code" href="mems__regs_8h.html#ab34e7a419d5d88f13c7a5e10aebfa0e5">00099</a> <span class="preprocessor">#define LIS_DRDY_DISABLE 0x00</span>
<a name="l00100"></a><a class="code" href="mems__regs_8h.html#aaf05923b01d20445ff0c72808a533ed9">00100</a> <span class="preprocessor"></span><span class="preprocessor">#define LIS_DRDY_ENABLE  0x04</span>
<a name="l00101"></a>00101 <span class="preprocessor"></span>
<a name="l00102"></a>00102 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00103"></a>00103 
<a name="l00104"></a><a class="code" href="mems__regs_8h.html#a5ad7efd9601f84e7b66bb9b0f66b40da">00104</a> <span class="preprocessor">#define LIS_BLE_XX LIS_BLE_BE</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span>
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">/* Private Functions Prototypes ----------------------------------------------*/</span>
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="comment">//*********************i2c_read_reg***********************//</span>
<a name="l00110"></a>00110 <span class="comment">//----------Reads a register on the I2C target------------//</span>
<a name="l00111"></a>00111 <span class="comment">//------slave addr is the is the I2C target device--------//</span>
<a name="l00112"></a>00112 <span class="comment">//-reg_addr is the address of the register to be written--//</span>
<a name="l00113"></a>00113 <span class="comment">//-pBuffer is the storage destination for the read data---//</span>
<a name="l00114"></a>00114 <span class="comment">//-NoOfBytes is the amount of data to read----------------//</span>
<a name="l00115"></a>00115 <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> <a class="code" href="mems_8c.html#adbdd30d2f3df61abb877edb593dd461e">i2c_read_reg</a> (<a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> slave_addr, <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> reg_addr, <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> *pBuffer, <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> NoOfBytes);
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 <span class="comment">//*********************i2c_write_reg**********************//</span>
<a name="l00118"></a>00118 <span class="comment">//----------Writes a register on the I2C target-----------//</span>
<a name="l00119"></a>00119 <span class="comment">//------slave addr is the is the I2C target device--------//</span>
<a name="l00120"></a>00120 <span class="comment">//-reg_addr is the address of the register to be written--//</span>
<a name="l00121"></a>00121 <span class="comment">//-reg_value is the value of the register to be written---//</span>
<a name="l00122"></a>00122 <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> <a class="code" href="mems_8c.html#af01693ea79f3add4f0344fd396deda06">i2c_write_reg</a> (<a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> slave_addr, <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> reg_addr, <a class="code" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> reg_value);
<a name="l00123"></a>00123 
<a name="l00124"></a>00124 <span class="preprocessor">#endif </span><span class="comment">/* _MEMS_REGS_H_ */</span>
<a name="l00125"></a>00125 
</pre></div></div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

Hardware Abstraction Layer. <br>

1.0.1.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2009 by STMicrolectronics. All rights reserved.<br>

Generated Wed Sep 1 13:41:46 2010 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.6.1.

</small></address>

</td>

</tr>

</table>

</body>

</html>
