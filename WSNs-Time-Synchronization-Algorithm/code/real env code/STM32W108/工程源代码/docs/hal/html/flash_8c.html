<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">

<title>Hardware Abstraction Layer: flash.c File Reference</title>

<LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">

</head><body>

<table border="0" cellspacing="0" cellpadding="0"  width=100%>

<tr>

<td><img src="ST_Logo.gif"></td>

<td> <div class="qindex">

<a class="qindex" href="index.html">Home</a>&nbsp;

 | &nbsp;<a class="qindex" href="modules.html">Modules</a>&nbsp;

 | &nbsp;<a class="qindex" href="annotated.html">Data Structures</a>&nbsp;

 | &nbsp;<a class="qindex" href="files.html">File List</a>&nbsp;

 | &nbsp;<a class="qindex" href="globals.html">Index</a></div>

</td>

</table>
<!-- Generated by Doxygen 1.6.1 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>flash.c File Reference</h1>
<p>Implements the generic flash manipulation routines.  
<a href="#_details">More...</a></p>
<code>#include &quot;<a class="el" href="error_8h_source.html">error.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fib-bootloader_8h_source.html">hal/micro/cortexm3/bootloader/fib-bootloader.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mpu_8h_source.html">hal/micro/cortexm3/mpu.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="stm32w108_2memmap_8h_source.html">memmap.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="flash_8h_source.html">flash.h</a>&quot;</code><br/>

<p><a href="flash_8c_source.html">Go to the source code of this file.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__iar.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga04dc9eef74066ec15dcfbd603aaf4a52">halFlashEraseIsActive</a> (void)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tells the calling code if a Flash Erase operation is active.  <a href="group__flash.html#ga04dc9eef74066ec15dcfbd603aaf4a52"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__micro.html#gafddf1f4a9c9eff790d56c8950c1fb0ad">StStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga4444bbd2d2343a108894d5e0412c7e5c">halInternalFlashErase</a> (<a class="el" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> eraseType, <a class="el" href="group__iar.html#ga2ba8e0357fdc7b7a450e6893ed81e8e3">int32u</a> address)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Erases a section of flash back to all 0xFFFF.  <a href="group__flash.html#ga4444bbd2d2343a108894d5e0412c7e5c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__micro.html#gafddf1f4a9c9eff790d56c8950c1fb0ad">StStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga5eae5ae946c993e4f710e0e9b17f18a7">halInternalFlashWrite</a> (<a class="el" href="group__iar.html#ga2ba8e0357fdc7b7a450e6893ed81e8e3">int32u</a> address, <a class="el" href="group__iar.html#ga409a5c4bea6981c30b308684efa33f6f">int16u</a> *data, <a class="el" href="group__iar.html#ga2ba8e0357fdc7b7a450e6893ed81e8e3">int32u</a> length)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes a block of words to flash. A page is erased to 0xFFFF at every address. Only two writes can be performed to the same address between erasures and this is enforced by the flash interface controller. If the value already in the address being written to is 0xFFFF, any value can be written. If the value is not 0xFFFF and not 0x0000, only 0x0000 can be written. If the value is 0x0000, nothing can be written.  <a href="group__flash.html#ga5eae5ae946c993e4f710e0e9b17f18a7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__micro.html#gafddf1f4a9c9eff790d56c8950c1fb0ad">StStatus</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__flash.html#ga6f413da8a04e1c9ddd3b429268347506">halInternalCibOptionByteWrite</a> (<a class="el" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> byte, <a class="el" href="group__iar.html#gae712ac7a6479b38bdbb3286e80b72049">int8u</a> data)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Writes an option byte to the customer information block. Only two writes can be performed to the same address between erasures and this is enforced by the flash interface controller.  <a href="group__flash.html#ga6f413da8a04e1c9ddd3b429268347506"></a><br/></td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__iar.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="flash_8c.html#a4c06fbe78431cce420b4f67f65ae7cb2">flashEraseIsActive</a> = FALSE</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Implements the generic flash manipulation routines. </p>
<p>The file 'flash-sw-spec.txt' should provide *all* the information needed to understand and work with the FLITF and flash. </p>

<p>Definition in file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a4c06fbe78431cce420b4f67f65ae7cb2"></a><!-- doxytag: member="flash.c::flashEraseIsActive" ref="a4c06fbe78431cce420b4f67f65ae7cb2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__iar.html#ga7670a4e8a07d9ebb00411948b0bbf86d">boolean</a> <a class="el" href="flash_8c.html#a4c06fbe78431cce420b4f67f65ae7cb2">flashEraseIsActive</a> = FALSE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="flash_8c_source.html#l00037">37</a> of file <a class="el" href="flash_8c_source.html">flash.c</a>.</p>

</div>
</div>
</div>
<hr size="1">

<table border="0" cellspacing="0" cellpadding="0" width=100%>

<tr>

<td><address><small>

Hardware Abstraction Layer. <br>

1.0.1.

</small></address>

</td>

<td align="right">

<address><small>

Copyright &copy; 2009 by STMicrolectronics. All rights reserved.<br>

Generated Wed Sep 1 13:42:03 2010 with <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.6.1.

</small></address>

</td>

</tr>

</table>

</body>

</html>
